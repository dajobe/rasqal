@prefix rdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:	<http://www.w3.org/2000/01/rdf-schema#> .
@prefix mf:     <http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#> .
@prefix qt:     <http://www.w3.org/2001/sw/DataAccess/tests/test-query#> .

<>  rdf:type mf:Manifest ;
    rdfs:comment "Errors API working test cases" ;
    mf:entries
    (
     [  mf:name    "XPath substring() invalid arguments" ;
        rdfs:comment
            "Error API test 1 - function error handled gracefully" ;
        mf:action
            [ qt:query  <error-api-1.rq> ;
              qt:data   <data.ttl> ] ;
        mf:result  <error-api-1-result.ttl>
     ]

     [  rdf:type mf:QueryEvaluationTest ;
        mf:name    "Division by zero error in BIND" ;
        rdfs:comment
            """Error API test 2 - Tests SPARQL 1.2 error handling in BIND expressions.
            When division by zero occurs in a BIND expression, the variable becomes unbound
            and the solution is kept (per SPARQL 1.2 ยง18.6 Extend definition).""" ;
        mf:action
            [ qt:query  <error-api-2.rq> ;
              qt:data   <data.ttl> ] ;
        mf:result  <error-api-2-result.ttl>
     ]

     [  rdf:type mf:QueryEvaluationTest ;
        mf:name    "Type conversion error in BIND" ;
        rdfs:comment
            """Error API test 5 - Tests SPARQL 1.2 error handling in BIND expressions.
            When type conversion fails in a BIND expression, the variable becomes unbound
            and the solution is kept (per SPARQL 1.2 ยง18.6 Extend definition).""" ;
        mf:action
            [ qt:query  <error-api-5.rq> ;
              qt:data   <data.ttl> ] ;
        mf:result  <error-api-5-result.ttl>
     ]

     [  rdf:type mf:QueryEvaluationTest ;
        mf:name    "Filter expression error" ;
        rdfs:comment
            """Error API test 3 - Tests SPARQL 1.2 error handling in FILTER expressions.
            When fn:substring() receives invalid arguments in a FILTER, the solution is removed
            (per SPARQL 1.2 ยง18.6 Filter definition).""" ;
        mf:action
            [ qt:query  <error-api-3.rq> ;
              qt:data   <data.ttl> ] ;
        mf:result  <error-api-3-result.ttl>
     ]

     [  rdf:type mf:QueryEvaluationTest ;
        mf:name    "Join expression error" ;
        rdfs:comment
            """Error API test 4 - Tests SPARQL 1.2 error handling in FILTER expressions with joins.
            When division by zero occurs in a FILTER expression, the solution is removed
            (per SPARQL 1.2 ยง18.6 Filter definition).""" ;
        mf:action
            [ qt:query  <error-api-4.rq> ;
              qt:data   <data.ttl> ] ;
        mf:result  <error-api-4-result.ttl>
     ]

    ).


